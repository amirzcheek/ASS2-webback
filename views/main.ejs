<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/lang.css">
    <style>
        nav ul li a {
            text-decoration: none;
        }
    </style>
</head>
<body>
    <nav>
        <ul class="text-decoration-none">
            <% if (lang === 'en') { %>
                <li><a class="text-decoration-none" href="/">Main</a></li>
                <li><a class="text-decoration-none" href="/weather">Weather API</a></li>
                <li><a class="text-decoration-none" href="/advice">Advice API</a></li>
                <li><a class="text-decoration-none" href="/quotes">Quotes API</a></li>
                <% if (authenticated) { %>
                    <li class="dropdown">
                        <a href="#" class="dropbtn text-decoration-none">Profile</a>
                        <div class="dropdown-content">
                            <% if (typeof isAdminUser !== 'undefined' && isAdminUser) { %>
                                <a href="/admin">Admin Page</a>
                            <% } %>
                            <a href="/profile">My Profile</a>
                            <a href="/logout">Logout</a>
                        </div>
                    </li>
                <% } else { %>
                    <li><a href="/login">Login</a></li>
                    <li><a href="/register">Register</a></li>
                <% } %>
            <% } else if (lang === 'ru') { %>
                <li><a href="/">Главная</a></li>
                <li><a href="/weather">Погода API</a></li>
                <li><a href="/advice">Советы API</a></li>
                <li><a href="/quotes">Цитаты API</a></li>
                <% if (authenticated) { %>
                    <li class="dropdown">
                        <a href="#" class="dropbtn">Профиль</a>
                        <div class="dropdown-content">
                            <% if (typeof isAdminUser !== 'undefined' && isAdminUser) { %>
                                <a href="/admin">Админ панель</a>
                            <% } %>
                            <a href="/profile">Профиль</a>
                            <a href="/logout">Выйти</a>
                        </div>
                    </li>
                <% } else { %>
                    <li><a href="/login">Вход</a></li>
                    <li><a href="/register">Регистрация</a></li>
                <% } %>
            <% } %>
            <div id="language-selection">
                <a href="/setLanguage?lang=en">En <img src="images/enLang.png"></a>
                <a href="/setLanguage?lang=ru">Ru <img src="images/ruLang.png"></a>
            </div>
        </ul>
    </nav>
    

    <div class="main-content">
        <% if (lang === 'en') { %>
            <header>
                <h1>Welcome to the world of motivation!</h1>
            </header>

            <p>Our lives are filled with challenges, and often we need additional support to overcome difficulties and achieve our goals. We created this website to help you find inspiration and strength within yourself to overcome any obstacles.</p>
            <p>Here you will find a wealth of articles, videos, and practical advice on personal development, achieving success, increasing productivity, and improving quality of life. We believe that everyone is capable of more, and our mission is to help you unleash your potential.</p>
            <p>Join us on this exciting journey to become the best version of yourself!</p>
        <% } else if (lang === 'ru') { %>
            <header>
                <h1>Добро пожаловать в мир мотивации!</h1>
            </header>

            <p>Наши жизни наполнены вызовами, и часто нам требуется дополнительная поддержка, чтобы преодолеть трудности и достичь поставленных целей. Мы создали этот сайт, чтобы помочь вам найти вдохновение и силы внутри себя для преодоления любых препятствий.</p>
            <p>Здесь вы найдете множество статей, видео и практических советов по развитию личности, достижению успеха, повышению производительности и улучшению качества жизни. Мы верим, что каждый человек способен на большее, и наша миссия - помочь вам раскрыть свой потенциал.</p>
            <p>Присоединяйтесь к нам в этом увлекательном путешествии к лучшей версии себя!</p>
        <% } %>
        <div class="box">
            <% items.forEach((item, itemIndex) => { %>
                <div id="itemCarousel<%= itemIndex %>" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="<%= item.pictures.picture1 %>" class="d-block w-100" alt="...">
                            <div class="carousel-caption d-none d-md-block">
                                <h3><%= lang === 'en' ? item.names.nameEN : item.names.nameRU %></h3>
                                <p><%= lang === 'en' ? item.descriptions.descriptionEN : item.descriptions.descriptionRU %></p>
                            </div>
                        </div>
                        <% if (item.pictures.picture2) { %>
                            <div class="carousel-item">
                                <img src="<%= item.pictures.picture2 %>" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    <h3><%= lang === 'en' ? item.names.nameEN : item.names.nameRU %></h3>
                                    <p><%= lang === 'en' ? item.descriptions.descriptionEN : item.descriptions.descriptionRU %></p>
                                </div>
                            </div>
                        <% } %>
                        <% if (item.pictures.picture3) { %>
                            <div class="carousel-item">
                                <img src="<%= item.pictures.picture3 %>" class="d-block w-100" alt="...">
                                <div class="carousel-caption d-none d-md-block">
                                    <h3><%= lang === 'en' ? item.names.nameEN : item.names.nameRU %></h3>
                                    <p><%= lang === 'en' ? item.descriptions.descriptionEN : item.descriptions.descriptionRU %></p>
                                </div>
                            </div>
                        <% } %>
                    </div>
                    <a class="carousel-control-prev" href="#itemCarousel<%= itemIndex %>" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#itemCarousel<%= itemIndex %>" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            <% }); %>
        </div>
        
        
    </div>


    <%- include('footer') %>


    <script>
        window.onclick = function(event) {
            if (!event.target.matches('.dropbtn')) {
                var dropdowns = document.getElementsByClassName("dropdown-content");
                for (var i = 0; i < dropdowns.length; i++) {
                    var openDropdown = dropdowns[i];
                    if (openDropdown.style.display === "block") {
                        openDropdown.style.display = "none";
                    }
                }
            }
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>